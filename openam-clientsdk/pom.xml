<?xml version="1.0" encoding="UTF-8"?>
<!--
 * The contents of this file are subject to the terms of the Common Development and
 * Distribution License (the License). You may not use this file except in compliance with the
 * License.
 *
 * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the
 * specific language governing permission and limitations under the License.
 *
 * When distributing Covered Software, include this CDDL Header Notice in each file and include
 * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL
 * Header, with the fields enclosed by brackets [] replaced by your own identifying
 * information: "Portions copyright [year] [name of copyright owner]".
 *
 * Copyright 2011-2016 ForgeRock AS.
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <!-- Parent Project -->
    <parent>
        <groupId>org.forgerock.openam</groupId>
        <artifactId>openam</artifactId>
        <version>14.1.13-SNAPSHOT</version>
    </parent>

    <!-- Component Definition -->
    <name>OpenAM Client SDK</name>
    <description>OpenAM Java Client SDK</description>
    <artifactId>openam-clientsdk</artifactId>
    <packaging>jar</packaging>

    <properties>
        <shade.package>org.forgerock.openam.sdk</shade.package>
    </properties>

    <!-- Build -->
    <build>
        <finalName>ClientSDK-${project.version}</finalName>
        <resources>
            <resource>
                <directory>${project.build.directory}/generated-resources</directory>
                <includes>
                    <include>amAuth.properties</include>
                    <include>amAuthContext.properties</include>
                    <include>amIdRepo.properties</include>
                    <include>amNaming.properties</include>
                    <include>amPolicy.properties</include>
                    <include>amProfile.properties</include>
                    <include>amSDK.properties</include>
                    <include>amSSOProvider.properties</include>
                    <include>amSecurity.properties</include>
                    <include>amSession.properties</include>
                    <include>debugconfig.properties</include>
                    <include>debugfiles.properties</include>
                    <include>famSTS.properties</include>
                    <include>fmConfigurationService.properties</include>
                    <include>fmLibertySecurity.properties</include>
                    <include>fmSessionProvider.properties</include>
                    <include>fmWSSProvider.properties</include>
                    <include>fmWSSecurity.properties</include>
                    <include>libAuthnSvc.properties</include>
                    <include>libBinarySecurityToken.properties</include>
                    <include>libConfigurationManager.properties</include>
                    <include>libDSTService.properties</include>
                    <include>libDisco.properties</include>
                    <include>libEncryption.properties</include>
                    <include>libIDFF.properties</include>
                    <include>libIDFFMeta.properties</include>
                    <include>libInteraction.properties</include>
                    <include>libLibertySecurity.properties</include>
                    <include>libPersonalProfile.properties</include>
                    <include>libSAML.properties</include>
                    <include>libSAML2.properties</include>
                    <include>libSAML2Meta.properties</include>
                    <include>libSOAPBinding.properties</include>
                    <include>libSessionProvider.properties</include>
                    <include>libXACML.properties</include>
                    <include>META-INF/**</include>
                </includes>
            </resource>
        </resources>
        <plugins>
            <plugin>
                <artifactId>maven-clean-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>prepare-package</phase>
                        <goals>
                            <goal>clean</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-shade-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>shade</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <!--
                    Anything you can find here is just a replication attempt of the ant ClientSDK build system.
                    In future versions of OpenAM we need to enhance this generation process by simply separating
                    remote/local implementations in a much cleaner way
                    -->
                    <artifactSet>
                        <includes>
                            <include>org.forgerock.commons:forgerock-util</include>
                            <include>org.forgerock.openam:openam-core</include>
                            <include>org.forgerock.openam:openam-entitlements</include>
                            <include>org.forgerock.openam:openam-audit-context</include>
                            <include>org.forgerock.openam:openam-shared</include>
                            <include>org.forgerock.openam:openam-dtd-schema</include>
                            <include>org.forgerock.openam:openam-jaxrpc-schema</include>
                            <include>org.forgerock.openam:openam-ldap-utils</include>
                            <include>org.forgerock.openam:openam-liberty-schema</include>
                            <include>org.forgerock.openam:openam-mib-schema</include>
                            <include>org.forgerock.openam:openam-saml2-schema</include>
                            <include>org.forgerock.openam:openam-xacml3-schema</include>
                            <include>org.forgerock.openam:openam-federation-library</include>
                            <include>org.forgerock.openam:OpenFM</include>
                            <include>org.forgerock.openam:openam-client-sts</include>
                            <include>org.forgerock.openam:openam-notifications</include>
                            <include>org.json:json</include>
                            <include>org.forgerock.opendj:opendj-core</include>
                            <include>org.forgerock.opendj:opendj-grizzly</include>
                            <include>org.forgerock.commons:i18n-core</include>
                            <include>org.forgerock.commons:i18n-slf4j</include>
                            <include>org.forgerock.commons.guava:forgerock-guava-base</include>
                            <include>org.forgerock.commons.guava:forgerock-guava-collect</include>
<!--                             <include>com.google:guava</include> -->
                            <include>org.forgerock.http:chf-http-core</include>
                            <include>com.fasterxml.jackson.core:jackson-databind</include>
                            <include>com.fasterxml.jackson.core:jackson-core</include>
                            <include>com.fasterxml.jackson.core:jackson-annotations</include>
                            <include>joda-time:joda-time</include>
                            <include>org.slf4j:slf4j-api</include>
                            <include>external:jdmkrt</include>
                        </includes>
                    </artifactSet>
                    <filters>
                        <filter>
                            <artifact>org.forgerock.openam:openam-core</artifact>
                            <includes>
                                <include>amAuth.properties</include>
                                <include>amAuthContext.properties</include>
                                <include>amDelegation.properties</include>
                                <include>amIdRepo.properties</include>
                                <include>amNaming.properties</include>
                                <include>amPolicy.properties</include>
                                <include>amProfile.properties</include>
                                <include>debugfiles.properties</include>
                                <include>amSDK.properties</include>
                                <include>amSSOProvider.properties</include>
                                <include>amSecurity.properties</include>
                                <include>amSession.properties</include>
                                <include>EntitlementException.properties</include>
                                <include>serverAttributeMap.properties</include>
                                <include>com/iplanet/am/sdk/**</include>
                                <include>com/iplanet/am/util/**</include>
                                <include>com/iplanet/dpro/session/service/InternalSession*</include>
                                <include>com/iplanet/dpro/session/service/SessionState*</include>
                                <include>com/iplanet/dpro/session/service/SessionType*</include>
                                <include>com/iplanet/dpro/session/service/SessionService*</include>
                                <include>com/iplanet/dpro/session/operations/SessionOperations*</include>
                                <include>com/iplanet/dpro/session/operations/SessionOperationStrategy*</include>
                                <include>com/iplanet/dpro/session/operations/ClientSdkSessionOperationStrategy*</include>
                                <include>com/iplanet/dpro/session/operations/strategies/ClientSdkOperations*</include>
                                <include>com/iplanet/dpro/session/share/**</include>
                                <include>com/iplanet/dpro/session/*</include>
                                <include>com/iplanet/services/**</include>
                                <include>com/iplanet/sso/**</include>
                                <include>com/iplanet/ums/Guid*</include>
                                <include>com/iplanet/ums/IUMSConstants*</include>
                                <include>com/iplanet/ums/SearchControl*</include>
                                <include>com/iplanet/ums/SortKey*</include>
                                <include>com/iplanet/ums/validation/BooleanValidator*</include>
                                <include>com/iplanet/ums/validation/DNValidator*</include>
                                <include>com/iplanet/ums/validation/FloatValidator*</include>
                                <include>com/iplanet/ums/validation/IValidator*</include>
                                <include>com/iplanet/ums/validation/MailAddressValidator*</include>
                                <include>com/iplanet/ums/validation/NumberValidator*</include>
                                <include>com/iplanet/ums/validation/URLValidator*</include>
                                <include>com/sun/identity/authentication/*</include>
                                <include>com/sun/identity/authentication/client/**</include>
                                <include>com/sun/identity/authentication/config/AMAuthenticationInstance*</include>
                                <include>com/sun/identity/authentication/config/AMAuthenticationManager*</include>
                                <include>com/sun/identity/authentication/config/AMConfigurationException*</include>
                                <include>com/sun/identity/authentication/internal/AuthSSOProvider*</include>
                                <include>com/sun/identity/authentication/internal/AuthSSOToken*</include>
                                <include>com/sun/identity/authentication/internal/InvalidAuthContextException*</include>
                                <include>com/sun/identity/authentication/internal/server/AuthSPrincipal*</include>
                                <include>com/sun/identity/authentication/internal/util/AuthI18n*</include>
                                <!-- TODO do we really need all the authentication module's principals here? -->
                                <include>com/sun/identity/authentication/callbacks/HiddenValueCallback*</include>
                                <include>com/sun/identity/authentication/callbacks/ScriptTextOutputCallback*</include>
                                <include>com/sun/identity/authentication/service/AMAuthErrorCode*</include>
                                <include>com/sun/identity/authentication/service/AuthException*</include>
                                <include>com/sun/identity/authentication/service/ConfiguredAuthServices*</include>
                                <include>com/sun/identity/authentication/service/ConfiguredIdentityTypes*</include>
                                <include>com/sun/identity/authentication/service/SSOTokenPrincipal*</include>
                                <include>com/sun/identity/authentication/share/**</include>
                                <include>com/sun/identity/authentication/spi/AuthLoginException*</include>
                                <include>com/sun/identity/authentication/spi/AuthenticationException*</include>
                                <include>com/sun/identity/authentication/spi/DSAMECallbackInterface*</include>
                                <include>com/sun/identity/authentication/spi/HttpCallback*</include>
                                <include>com/sun/identity/authentication/spi/InvalidPasswordException*</include>
                                <include>com/sun/identity/authentication/spi/PagePropertiesCallback*</include>
                                <include>com/sun/identity/authentication/spi/RedirectCallback*</include>
                                <include>com/sun/identity/authentication/spi/X509CertificateCallback*</include>
                                <include>com/sun/identity/authentication/util/ISAuthConstants*</include>
                                <include>com/sun/identity/authentication/util/AMAuthUtils*</include>
                                <include>com/sun/identity/common/admin/DisplayOptionsUtils*</include>
                                <include>com/sun/identity/common/configuration/Configuration*</include>
                                <include>com/sun/identity/common/configuration/ServerConfiguration*</include>
                                <include>com/sun/identity/common/configuration/SiteConfiguration*</include>
                                <include>com/sun/identity/common/configuration/UnknownPropertyNameException*</include>
                                <include>com/sun/identity/common/AttributeStruct*</include>
                                <include>com/sun/identity/common/CaseInsensitiveHash*</include>
                                <include>com/sun/identity/common/CaseInsensitiveKey*</include>
                                <include>com/sun/identity/common/ChainedException*</include>
                                <include>com/sun/identity/common/DNUtils*</include>
                                <include>com/sun/identity/common/DateUtils*</include>
                                <include>com/sun/identity/common/DebugPropertiesObserver*</include>
                                <include>com/sun/identity/common/FQDNUtils*</include>
                                <include>com/sun/identity/common/ISLocaleContext*</include>
                                <include>com/sun/identity/common/L10NMessage*</include>
                                <include>com/sun/identity/common/LDAPConnPoolUtils*</include>
                                <include>com/sun/identity/common/LDAPConnectionPool*</include>
                                <include>com/sun/identity/common/PropertiesFinder*</include>
                                <include>com/sun/identity/common/ReaderWriterLock*</include>
                                <include>com/sun/identity/common/RequestUtils*</include>
                                <include>com/sun/identity/common/ResourceLookup*</include>
                                <include>com/sun/identity/common/SearchResults*</include>
                                <include>com/sun/identity/common/SystemConfigurationException*</include>
                                <include>com/sun/identity/common/SystemConfigurationUtil*</include>
                                <include>com/sun/identity/common/SystemProperties*</include>
                                <include>com/sun/identity/configuration/SystemProperties*</include>
                                <include>com/sun/identity/delegation/DelegationEvaluator*</include>
                                <include>com/sun/identity/delegation/DelegationException*</include>
                                <include>com/sun/identity/delegation/DelegationManager*</include>
                                <include>com/sun/identity/delegation/DelegationPermission*</include>
                                <include>com/sun/identity/delegation/DelegationPrivilege*</include>
                                <include>com/sun/identity/delegation/DelegationUtils*</include>
                                <include>com/sun/identity/delegation/interfaces/*</include>
                                <include>com/sun/identity/delegation/plugins/*</include>
                                <include>com/sun/identity/delegation/ResBundleUtils*</include>
                                <include>com/sun/identity/delegation/SMServiceListener*</include>
                                <include>com/sun/identity/entitlement/**</include>
                                <include>com/sun/identity/entity/*</include>
                                <include>com/sun/identity/idm/*</include>
                                <include>com/sun/identity/idm/common/**</include>
                                <include>com/sun/identity/idm/remote/**</include>
                                <include>com/sun/identity/jaxrpc/**</include>
                                <include>com/sun/identity/log/AMLogException*</include>
                                <include>com/sun/identity/log/ILogRecord*</include>
                                <include>com/sun/identity/log/LogConstants*</include>
                                <include>com/sun/identity/log/LogManager*</include>
                                <include>com/sun/identity/log/LogManagerUtil*</include>
                                <include>com/sun/identity/log/LogRecord*</include>
                                <include>com/sun/identity/log/Logger*</include>
                                <include>com/sun/identity/log/handlers/LoggingThread*</include>
                                <include>com/sun/identity/log/handlers/RemoteFormatter*</include>
                                <include>com/sun/identity/log/handlers/RemoteHandler*</include>
                                <include>com/sun/identity/log/messageid/**</include>
                                <include>com/sun/identity/log/s1is/LogConfigReader*</include>
                                <include>com/sun/identity/log/spi/Debug*</include>
                                <include>com/sun/identity/log/spi/IDebug*</include>
                                <include>com/sun/identity/log/spi/ISDebug*</include>
                                <include>com/sun/identity/monitoring/Agent*</include>
                                <include>com/sun/identity/monitoring/MonitoringUtil*</include>
                                <include>com/sun/identity/monitoring/SsoServerIdRepoSvcImpl*</include>
                                <include>com/sun/identity/monitoring/SsoServerPolicySvc*</include>
                                <include>com/sun/identity/monitoring/SsoServerPolicySvcImpl*</include>

							    <include>com/sun/identity/policy/ActionDecision*</include>
                                <include>com/sun/identity/policy/ChainedException*</include>
                                <include>com/sun/identity/policy/Conditions*</include>
                                <include>com/sun/identity/policy/InvalidFormatException*</include>
                                <include>com/sun/identity/policy/InvalidNameException*</include>
                                <include>com/sun/identity/policy/interfaces/Condition*</include>
                                <include>com/sun/identity/policy/interfaces/PolicyListener*</include>
                                <include>com/sun/identity/policy/interfaces/ResourceName*</include>
                                <include>com/sun/identity/policy/interfaces/ResponseProvider*</include>
                                <include>com/sun/identity/policy/interfaces/Subject*</include>
                                <include>com/sun/identity/policy/NameAlreadyExistsException*</include>
                                <include>com/sun/identity/policy/NameNotFoundException*</include>
                                <include>com/sun/identity/policy/NoPermissionException*</include>
                                <include>com/sun/identity/policy/Policy*</include>
                                <include>com/sun/identity/policy/PolicyCache*</include>
                                <include>com/sun/identity/policy/PolicyConfig*</include>
                                <include>com/sun/identity/policy/PolicyEvaluator*</include>
                                <include>com/sun/identity/policy/PolicyEvent*</include>
                                <include>com/sun/identity/policy/PolicyException*</include>
                                <include>com/sun/identity/policy/PolicyLockFactory*</include>
                                <include>com/sun/identity/policy/PolicyManager*</include>
                                <include>com/sun/identity/policy/PolicySSOTokenListener*</include>
                                <include>com/sun/identity/policy/PolicyUtils*</include>
                                <include>com/sun/identity/policy/Referrals*</include>
                                <include>com/sun/identity/policy/ResBundleUtils*</include>
                                <include>com/sun/identity/policy/ResourceIndexManager*</include>
                                <include>com/sun/identity/policy/ResourceManager*</include>
                                <include>com/sun/identity/policy/ResourceMatch*</include>
                                <include>com/sun/identity/policy/ResponseProviders*</include>
                                <include>com/sun/identity/policy/Rule*</include>
                                <include>com/sun/identity/policy/ServiceType*</include>
                                <include>com/sun/identity/policy/ServiceTypeManager*</include>
                                <include>com/sun/identity/policy/StringComparator*</include>
                                <include>com/sun/identity/policy/Subjects*</include>
                                <include>com/sun/identity/policy/SubjectTypeManager*</include>
                                <include>com/sun/identity/policy/ActionSchema*</include>
                                <include>com/sun/identity/policy/ObjectInUseException*</include>
                                <include>com/sun/identity/policy/plugins/AMIdentitySubject*</include>
                                <include>com/sun/identity/policy/plugins/HttpURLResourceName*</include>
                                <include>com/sun/identity/policy/plugins/OrgReferral*</include>
                                <include>com/sun/identity/policy/plugins/LDAPRoles*</include>
                                <include>com/sun/identity/policy/plugins/LDAPConnectionPools*</include>
                                <include>com/sun/identity/policy/plugins/PrefixResourceName*</include>
                                <include>com/sun/identity/policy/plugins/PrivilegeSubject*</include>
                                <include>com/sun/identity/policy/plugins/URLResourceName*</include>
                                <include>com/sun/identity/policy/plugins/IPCondition*</include>
                                <include>com/sun/identity/policy/plugins/AuthenticatedUsers*</include>
                                <include>com/sun/identity/policy/remote/PolicyEvaluationException*</include>
                                <include>com/sun/identity/policy/remote/PolicyRequestHandler*</include>
                                <include>com/sun/identity/policy/SharedSubject*</include>
                                <include>com/sun/identity/policy/SubjectEvaluationCache*</include>
                                <include>com/sun/identity/policy/ValidationErrorHandler*</include>
                                <include>com/sun/identity/policy/util/PolicyDecisionUtils*</include>
								<include>com/sun/identity/policy/client/*</include>
								
                                <include>com/sun/identity/protocol/**</include>
                                <include>com/sun/identity/security/AMSecurityPropertiesException*</include>
                                <include>com/sun/identity/security/AdminTokenAction*</include>
                                <include>com/sun/identity/security/AppSSOTokenProvider*</include>
                                <include>com/sun/identity/security/ServerInstanceAction*</include>
                                <include>com/sun/identity/security/SystemAppTokenProvider*</include>
                                <include>com/sun/identity/session/util/RestrictedTokenAction*</include>
                                <include>com/sun/identity/session/util/RestrictedTokenContext*</include>
                                <include>com/sun/identity/session/util/SessionUtils*</include>
                                <include>com/sun/identity/sm/*</include>
                                <include>com/sun/identity/sm/jaxrpc/**</include>
                                <include>com/sun/identity/util/**</include>

                                <include>org/forgerock/openam/core/realms/RealmLookupException*</include>
                                <include>org/forgerock/openam/idm/**</include>
                                <include>org/forgerock/openam/authentication/service/protocol/**</include>
                                <include>org/forgerock/openam/console/base/ConsoleViewBeanBase*</include>
                                <include>org/forgerock/openam/core/realms/*</include>
                                <include>org/forgerock/openam/core/DNWrapper*</include>
                                <include>org/forgerock/openam/dpro/session/InvalidSessionIdException*</include>
                                <include>org/forgerock/openam/entitlement/ConditionTypeRegistry*</include>
                                <include>org/forgerock/openam/entitlement/EntitlementModule*</include>
                                <include>org/forgerock/openam/entitlement/EntitlementRegistry*</include>
                                <include>org/forgerock/openam/entitlement/indextree/TreeSaveIndex*</include>
                                <include>org/forgerock/openam/entitlement/indextree/TreeSearchIndex*</include>
                                <include>org/forgerock/openam/entitlement/utils/EntitlementUtils*</include>
                                <include>org/forgerock/openam/entitlement/utils/NullNotificationBroker*</include>
                                <include>org/forgerock/openam/entitlement/conditions/**</include>
                                <include>org/forgerock/openam/entitlement/NameAlreadyRegisteredException*</include>
                                <include>org/forgerock/openam/entitlement/PolicyConstants*</include>
                                <include>org/forgerock/openam/entitlement/service/ApplicationService*</include>
                                <include>org/forgerock/openam/entitlement/service/EntitlementConfigurationFactory*</include>
                                <include>org/forgerock/openam/entitlement/service/ResourceTypeService*</include>
                                <include>org/forgerock/openam/services/cdm/**</include>
                                <include>org/forgerock/openam/session/*</include>
                                <include>org/forgerock/openam/security/whitelist/**</include>
                                <include>org/forgerock/openam/sso/providers/stateless/*</include>
                                <include>org/forgerock/openam/upgrade/UpgradeException*</include>
                                <include>org/forgerock/openam/validation/ResponseValidationFilter*</include>

                                <include>META-INF/services/org.forgerock.openam.entitlement.ConditionTypeRegistry</include>
                            </includes>
                            <excludes>
                                <exclude>com/iplanet/am/sdk/ldap/**</exclude>
                                <exclude>com/iplanet/am/sdk/remote/DirectoryManager*</exclude>
                                <exclude>com/iplanet/am/util/AMGenerateServerID*</exclude>
                                <exclude>com/iplanet/am/util/AMSendMail*</exclude>
                                <exclude>com/iplanet/am/util/AMUserNamePasswordAuthenticator*</exclude>
                                <exclude>com/iplanet/am/util/CLILogin*</exclude>
                                <exclude>com/iplanet/am/util/CharsetMapping*</exclude>
                                <exclude>com/iplanet/am/util/IPSServerSocket*</exclude>
                                <exclude>com/iplanet/am/util/PrintUtils*</exclude>
                                <exclude>com/iplanet/am/util/SSLSocketFactoryManager*</exclude>
                                <exclude>com/iplanet/am/util/Token*</exclude>
                                <exclude>com/iplanet/am/util/UnicodeInputStreamReader*</exclude>
                                <exclude>com/iplanet/am/util/UpdateDNSAlias*</exclude>
                                <exclude>com/iplanet/am/util/getEncoding*</exclude>
                                <exclude>com/iplanet/services/comm/server/PLL*</exclude>
                                <exclude>com/iplanet/services/comm/server/NotificationSender*</exclude>
                                <exclude>com/iplanet/services/ldap/aci/**</exclude>
                                <exclude>com/iplanet/services/ldap/event/Request*</exclude>
                                <exclude>com/iplanet/services/naming/service/**</exclude>
                                <exclude>com/iplanet/services/util/internal/**</exclude>
                                <exclude>com/iplanet/services/util/Hash*</exclude>
                                <exclude>com/iplanet/services/util/ThreadPool*</exclude>
                                <exclude>com/iplanet/services/util/XMLUtils*</exclude>
                                <exclude>com/sun/identity/common/ReaderWriterLock$Test*</exclude>
                                <exclude>com/sun/identity/entity/EntityObjectImpl*</exclude>
                                <exclude>com/sun/identity/idm/AgentMigration71*</exclude>
                                <exclude>com/sun/identity/log/LoggerProvider*</exclude>
                                <exclude>com/sun/identity/policy/jaas/**</exclude>
                                <exclude>com/sun/identity/sm/jaxrpc/SMSJAXRPCObjectImpl*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-shared</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                            <excludes>
                                <exclude>com/sun/identity/shared/test/**</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-audit-context</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                            <excludes>
                                <exclude>org/forgerock/openam/audit/context/AuditContextFilter*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-jaxrpc-schema</artifact>
                            <includes>
                                <include>com/iplanet/sso/**</include>
                                <include>com/sun/identity/liberty/ws/security/**</include>
                                <include>com/sun/identity/saml/**</include>
                                <include>com/sun/identity/sm/*</include>
                            </includes>
                            <excludes>
                                <exclude>com/sun/identity/liberty/ws/security/SecurityTokenException_SOAPBuilder*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:OpenFM</artifact>
                            <includes>
                                <include>famSTS.properties</include>
                                <include>fmConfigurationService.properties</include>
                                <include>fmLibertySecurity.properties</include>
                                <include>fmSessionProvider.properties</include>
                                <include>fmWSSProvider.properties</include>
                                <include>fmWSSecurity.properties</include>
                                <include>com/sun/identity/classloader/**</include>
                                <include>com/sun/identity/configuration/FedSystemProperties*</include>
                                <include>com/sun/identity/liberty/ws/soapbinding/WebServiceAuthenticatorImpl*</include>
                                <include>com/sun/identity/log/messageid/**</include>
                                <include>com/sun/identity/plugin/configuration/impl/**</include>
                                <include>com/sun/identity/plugin/log/impl/LogProvider*</include>
                                <include>com/sun/identity/plugin/session/impl/**</include>
                                <include>com/sun/identity/saml/plugins/**</include>
                                <include>com/sun/identity/saml/xmlsig/**</include>
                                <include>com/sun/identity/setup/InsertWebXMLContent*</include>
                                <include>com/sun/identity/setup/ParseInputData*</include>
                                <include>com/sun/identity/setup/SwapClientConfig*</include>
                                <include>com/sun/identity/wss/logging/**</include>
                                <include>com/sun/identity/wss/provider/**</include>
                                <include>com/sun/identity/wss/security/**</include>
                                <include>com/sun/identity/wss/sts/config/STSRemoteConfig*</include>
                                <include>com/sun/identity/wss/sts/spi/FAMTransportPipeFactory*</include>
                                <include>com/sun/identity/wss/sts/*</include>
                                <include>com/sun/identity/wss/trust/**</include>
                                <include>com/sun/identity/wss/xmlenc/**</include>
                                <include>com/sun/identity/wss/xmlsig/**</include>
                            </includes>
                            <excludes>
                                <exclude>com/sun/identity/wss/sts/FAMSTSImpl*</exclude>
                                <exclude>com/sun/identity/wss/sts/STSContextListener*</exclude>
                                <exclude>com/sun/identity/wss/sts/SecurityTokenService*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-federation-library</artifact>
                            <includes>
                                <include>libAuthnSvc.properties</include>
                                <include>libBinarySecurityToken.properties</include>
                                <include>libConfigurationManager.properties</include>
                                <include>libDSTService.properties</include>
                                <include>libDisco.properties</include>
                                <include>libEncryption.properties</include>
                                <include>libIDFF.properties</include>
                                <include>libIDFFMeta.properties</include>
                                <include>libInteraction.properties</include>
                                <include>libLibertySecurity.properties</include>
                                <include>libPersonalProfile.properties</include>
                                <include>libSAML.properties</include>
                                <include>libSAML2.properties</include>
                                <include>libSAML2Meta.properties</include>
                                <include>libSOAPBinding.properties</include>
                                <include>libSessionProvider.properties</include>
                                <include>libXACML.properties</include>
                                <include>com/sun/identity/common/ServerOrSiteEntry*</include>
                                <include>com/sun/identity/common/SystemConfiguration*</include>
                                <include>com/sun/identity/configuration/FedLibSystemProperties*</include>
                                <include>com/sun/identity/cot/*</include>
                                <include>com/sun/identity/federation/common/FSException*</include>
                                <include>com/sun/identity/federation/common/FSUtils*</include>
                                <include>com/sun/identity/federation/common/IFSConstants*</include>
                                <include>com/sun/identity/federation/common/LogUtil*</include>
                                <include>com/sun/identity/federation/message/**</include>
                                <include>com/sun/identity/federation/meta/**</include>
                                <include>com/sun/identity/federation/services/util/FSServiceUtils*</include>
                                <include>com/sun/identity/liberty/ws/authnsvc/**</include>
                                <include>com/sun/identity/liberty/ws/common/**</include>
                                <include>com/sun/identity/liberty/ws/disco/**</include>
                                <include>com/sun/identity/liberty/ws/dst/**</include>
                                <include>com/sun/identity/liberty/ws/idpp/plugin/IDPPResourceIDMapper*</include>
                                <include>com/sun/identity/liberty/ws/interaction/**</include>
                                <include>com/sun/identity/liberty/ws/interfaces/**</include>
                                <include>com/sun/identity/liberty/ws/security/**</include>
                                <include>com/sun/identity/liberty/ws/soapbinding/**</include>
                                <include>com/sun/identity/plugin/configuration/*</include>
                                <include>com/sun/identity/plugin/datastore/DataStoreProvider*</include>
                                <include>com/sun/identity/plugin/log/*</include>
                                <include>com/sun/identity/plugin/session/*</include>
                                <include>com/sun/identity/sae/api/**</include>
                                <include>com/sun/identity/saml/AssertionManagerClient*</include>
                                <include>com/sun/identity/saml/AssertionManagerIF*</include>
                                <include>com/sun/identity/saml/SAMLClient*</include>
                                <include>com/sun/identity/saml/assertion/**</include>
                                <include>com/sun/identity/saml/common/**</include>
                                <include>com/sun/identity/saml/plugins/**</include>
                                <include>com/sun/identity/saml/protocol/**</include>
                                <include>com/sun/identity/saml/xmlsig/**</include>
                                <include>com/sun/identity/saml2/assertion/**</include>
                                <include>com/sun/identity/saml2/common/NameIDInfo*</include>
                                <include>com/sun/identity/saml2/common/NewBoolean*</include>
                                <include>com/sun/identity/saml2/common/SAML2Constants*</include>
                                <include>com/sun/identity/saml2/common/SAML2Exception*</include>
                                <include>com/sun/identity/saml2/common/SAML2InvalidNameIDPolicyException*</include>
                                <include>com/sun/identity/saml2/common/SAML2SDKUtils*</include>
                                <include>com/sun/identity/saml2/key/**</include>
                                <include>com/sun/identity/saml2/logging/**</include>
                                <include>com/sun/identity/saml2/meta/**</include>
                                <include>com/sun/identity/saml2/protocol/**</include>
                                <include>com/sun/identity/saml2/soapbinding/QueryClient*</include>
                                <include>com/sun/identity/saml2/xmlenc/**</include>
                                <include>com/sun/identity/saml2/xmlsig/**</include>
                                <include>com/sun/identity/wsfederation/client/**</include>
                                <include>com/sun/identity/wsfederation/common/WSFederationException*</include>
                                <include>com/sun/identity/wsfederation/meta/WSFederationMetaException*</include>
                                <include>com/sun/identity/xacml/**</include>
                                <include>com/sun/identity/xmlenc/**</include>
                                <include>com/sun/liberty/**</include>
                            </includes>
                            <excludes>
                                <exclude>com/sun/identity/federation/message/common/Extension*</exclude>
                                <exclude>com/sun/identity/federation/meta/IDFFCOTUtils*</exclude>
                                <exclude>com/sun/identity/liberty/ws/authnsvc/mechanism/**</exclude>
                                <exclude>com/sun/identity/liberty/ws/disco/plugins/**</exclude>
                                <exclude>com/sun/identity/liberty/ws/dst/service/**</exclude>
                                <exclude>com/sun/identity/liberty/ws/security/SecurityTokenManagerServlet*</exclude>
                                <exclude>com/sun/identity/plugin/datastore/DataStoreProviderManager*</exclude>
                                <exclude>com/sun/identity/saml2/assertion/impl/AssertionIDRefImpl*</exclude>
                                <exclude>com/sun/identity/saml2/assertion/impl/NameIDImplWithoutSPNameQualifier*</exclude>
                                <exclude>com/sun/identity/saml2/protocol/impl/NameIDMappingRequestImpl*</exclude>
                                <exclude>com/sun/identity/saml2/protocol/impl/NameIDMappingResponseImpl*</exclude>
                                <exclude>com/sun/identity/saml2/protocol/impl/SubjectQueryAbstractImpl*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-liberty-schema</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                            <excludes>
                                <exclude>com/sun/identity/liberty/ws/common/jaxb/xmlsec/**</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-saml2-schema</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-xacml3-schema</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-dtd-schema</artifact>
                            <includes>
                                <include>com/sun/identity/log/messageid/amLogMessage.dtd</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-entitlements</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.openam:openam-client-sts</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.json:json</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.opendj:opendj-core</artifact>
                            <includes>
                                <include>**/*</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.opendj:opendj-grizzly</artifact>
                            <includes>
                                <include>**/*</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>org.forgerock.commons:i18n-core</artifact>
                            <includes>
                                <include>**/**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>*:*</artifact>
                            <excludes>
                                <exclude>META-INF/*.MF</exclude>
                                <exclude>META-INF/*.SF</exclude>
                                <exclude>META-INF/*.DSA</exclude>
                                <exclude>META-INF/*.RSA</exclude>
                            </excludes>
                        </filter>
                    </filters>
                    <transformers>
                        <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                            <manifestEntries>
                                <Specification-Title>OpenAM Java CLient SDK</Specification-Title>
                                <Specification-Version>${project.version} - ${maven.build.timestamp}</Specification-Version>
                                <Specification-Vendor>Open Identity Platform Community</Specification-Vendor>
                                <Implementation-Title>OpenAM Java Client SDK</Implementation-Title>
                                <Implementation-Version>${project.version} - ${maven.build.timestamp}</Implementation-Version>
                                <Implementation-Vendor>Open Identity Platform Community</Implementation-Vendor>
                                <Built-By>${user.name}</Built-By>
                                <Build-Jdk>${java.version}</Build-Jdk>
                                <Build-Time>${maven.build.timestamp}</Build-Time>
                                <Version>${project.version}</Version>
                                <Create-On>${maven.build.timestamp}</Create-On>
                                <Revision>${git.short.sha1}</Revision>
                                <!-- TODO Add License to Manifest -->
                            </manifestEntries>
                        </transformer>
                        <transformer implementation="org.apache.maven.plugins.shade.resource.ServicesResourceTransformer" />
                    </transformers>
                    <relocations>
                        <relocation>
                            <pattern>org/</pattern>
                            <shadedPattern>${shade.package}.org.</shadedPattern>
                            <excludes>
                                <exclude>org.forgerock.openam.**.*</exclude>
                                <exclude>org.w3c.dom.**.*</exclude>
                                <exclude>org.xml.sax.**.*</exclude>
                            </excludes>
                        </relocation>
                        <relocation>
                            <pattern>com/</pattern>
                            <shadedPattern>${shade.package}.com.</shadedPattern>
                            <excludes>
                                <exclude>com.sun.identity.**.*</exclude>
                                <exclude>com.iplanet.**.*</exclude>
                                <exclude>com.google.**.*</exclude>
                            </excludes>
                        </relocation>
                        <relocation>
                            <pattern>javax.inject</pattern>
                            <shadedPattern>${shade.package}.javax.inject</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>javax.mail</pattern>
                            <shadedPattern>${shade.package}.javax.mail</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>javax.activation</pattern>
                            <shadedPattern>${shade.package}.javax.activation</shadedPattern>
                        </relocation>
                    </relocations>
                    <shadedArtifactAttached>false</shadedArtifactAttached>
                    <createDependencyReducedPom>true</createDependencyReducedPom>
                    <shadeSourcesContent>true</shadeSourcesContent>
                    <createSourcesJar>${generate.clientsdk.sources}</createSourcesJar>
                    <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>
                </configuration>
            </plugin>
        </plugins>
    </build>

    <dependencies>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>openam-jaxrpc-schema</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>openam-dtd-schema</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>openam-xacml3-schema</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>OpenFM</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>openam-entitlements</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.openam</groupId>
            <artifactId>openam-client-sts</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.opendj</groupId>
            <artifactId>opendj-core</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.opendj</groupId>
            <artifactId>opendj-grizzly</artifactId>
        </dependency>
<!--         <dependency> -->
<!--             <groupId>org.forgerock.commons.guava</groupId> -->
<!--             <artifactId>forgerock-guava-collect</artifactId> -->
<!--         </dependency> -->
<!--         <dependency> -->
<!--             <groupId>org.forgerock.commons.guava</groupId> -->
<!--             <artifactId>forgerock-guava-base</artifactId> -->
<!--         </dependency> -->
		<dependency>
		    <groupId>com.google.guava</groupId>
		    <artifactId>guava</artifactId>
		</dependency>
        <dependency>
            <groupId>joda-time</groupId>
            <artifactId>joda-time</artifactId>
        </dependency>
        <dependency>
            <groupId>org.forgerock.http</groupId>
            <artifactId>chf-http-core</artifactId>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
        </dependency>
    </dependencies>
</project>
